//
//  RCTCmbEvent.m
//  RNCmbSdk
//
//  Created by Zhivko Manchev on 16.9.21.
//

#import "RCTCmbEvent.h"

@implementation RCTCmbEvent

+ (NSDictionary<NSNumber *, NSString *> *)cmbEvents
{
    return @{
        @(CMBEventReadResultReceived):@"didReceiveReadResultFromReaderEvent",
        @(CMBEventAvailabilityChanged):@"availabilityDidChangeOfReaderEvent",
        @(CMBEventConnectionStateChanged):@"connectionStateDidChangeOfReaderEvent",
        @(CMBEventScanningStateChanged):@"scanningStateChangedEvent",
        @(CMBEventCommandCompleted):@"cmbCommandCompletionEvent"
    };
}

- (instancetype)initEvent:(CMBEvent)event {
    self = [super init];
    
    if (self) {
        self.event = event;
    }
    
    return self;
}

- (void)sendUsingEmitter:(RCTEventEmitter *)emitter {
    [emitter sendEventWithName:[RCTCmbEvent.cmbEvents objectForKey:@(self.event)] body:self.eventBody];
}

@end
